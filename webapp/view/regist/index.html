<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>注册：填写账户信息 - TMS</title>
    <link rel="stylesheet" href="/view/frame/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="/view/frame/static/css/global.css?v=1.0">
    <link rel="stylesheet" href="/view/tms/static/css/add.css?v=1.0">
    <link rel="stylesheet" href="/view/regist/regist.css?v=1.0">
</head>

<body>
    <!-- Start:头部 -->
    <div class="panel-head">
        <div class="panel-logo">
            <div class="panel-left">
                <img src="../frame/static/images/logo.png">
                <span>用户注册</span>
            </div>
            <div class="panel-right">已有账号？
                <a href="/">立即登录</a>
            </div>
        </div>
    </div>
    <!-- End:头部 -->

    <!-- Start:内容 -->
    <!-- step1 -->
    <div class="panel-main" id='register-account'>
        <div class="panel-register">
            <div class="steps-list">
                <ul class="step1">
                    <li>1、填写账户信息</li>
                    <li>2、填写详细信息</li>
                    <li>3、平台审核</li>
                </ul>
            </div>
            <div class="register-body">
                <form method="post" autocomplete="off" class="layui-form">
                    <dl>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">用户名</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" name="username" id="username" maxlength="20" placeholder="请输入您的用户名" class="layui-input" lay-verify="required"
                                        hc-verify="accountRegex|account" hc-verify_field="用户名">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">登录密码</label>
                                <div class="layui-input-block form-group">
                                    <input type="password" name="password" id="password" maxlength="20" placeholder="请输入登录密码" class="layui-input" lay-verify="required"
                                        hc-verify="pwdRegex|pwdSize">
                                        </button>
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">确认密码</label>
                                <div class="layui-input-block form-group">
                                    <input type="password" name="password1" id="password1" maxlength="20" placeholder="请再次输入您的密码" class="layui-input" lay-verify="required"
                                        hc-verify="pwdRegex|pwdSize">
                                    <!-- <span class="glyphicon glyphicon-eye-open look-pwd1" aria-hidden="true"></span> -->
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">验证码</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" name="vcode" id="vcode" maxlength="4" placeholder="请输入验证码" class="layui-input w-125" lay-verify="required">
                                    <div class="form-vcode">
                                        <img src="/valicode.shtml?v=1.0" id="vcodeImg">
                                    </div>
                                    <div class="form-vcode">看不清？
                                        <a id="check-vcode">换一张</a>
                                    </div>
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">手机号</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" name="mobile" id="mobile" maxlength="20" placeholder="请输入您的手机号" class="layui-input" lay-verify="required"
                                        hc-verify="mobile">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">短信验证码</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" name="smscode" id="smscode" maxlength="4" placeholder="短信验证码" class="layui-input w-180" lay-verify="required">
                                    <div class="form-sms layui-btn layui-btn-disabled" id="check-sms">获取短信验证码</div>
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>

                        <!-- <dd>
              <div class="form-title">注册邀请码</div>
              <div class="form-group">
                <input type="text" class="form-input" id="invitecode" name="invitecode" maxlength="6" placeholder="请输入注册邀请码">
                <span class="form-error"></span>
              </div>
              <div class="clearfix"></div>
            </dd> -->
                        <dd>
                            <div class="layui-form-item">
                                <label class="layui-form-label" style="padding: 1px;">&nbsp;</label>
                                <div class="form-group" style="height: auto;">
                                    <div class="w-335" style="float: left; border: none; width: 362px;">
                                        <input type="checkbox" checked="checked" id="checkstatus" name="checkstatus" title="我已阅读并同意" lay-skin="primary" />
                                        <a href="javascript:void(0);" class="agreement">《服务协议》</a>
                                    </div>
                                    <span class="form-error" style="line-height: 21px;"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item">
                                <label class="layui-form-label">&nbsp;</label>
                                <div class="layui-input-block form-group">
                                    <button type="button" class="layui-btn layui-btn-normal form-submit" id="step1-btn" lay-submit lay-filter="submit1">下一步</button>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item">
                                <label class="layui-form-label">&nbsp;</label>
                                <div class="layui-input-block form-group">
                                    <div class="w-335" style="text-align:right;">已有账号？
                                        <a href="/">立即登录</a>
                                    </div>
                                </div>
                            </div>
                        </dd>
                    </dl>
                </form>
            </div>
        </div>
    </div>
    <!-- step2(企业注册) -->
    <div class="panel-main" id='complete-company'>
        <div class="panel-register">
            <a href="javascript:;" class="cut_btn">切换个人用户</a>
            <div class="steps-list">
                <ul class="step2">
                    <li>1、填写账户信息</li>
                    <li>2、填写详细信息</li>
                    <li>3、平台审核</li>
                </ul>
            </div>
            <div class="register-body">
                <div class="reg-txt">
                    <p class="txt1">
                        <span>温馨提示：</span>
                        <br> 1、请按照你的营业执照如实填写以下内容，这是审核你开通账号的重要信息，且一经审核，将不可变更。
                        <br> 2、无企业营业执照的个人用户请注册个人账户。
                    </p>
                    <p class="txt2" id="no-pass" style="display:none;">审核不通过备注：企业信息与营业执照图片内容不符，请认真填写。</p>
                </div>
                <form method="post" autocomplete="off" id="form2-regist" class="layui-form">
                    <dl style="border-bottom:#ddd 1px dotted;">
                        <dt>
                            <h1>企业信息</h1>
                        </dt>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">统一社会信用代码</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" name="usc" maxlength="18" placeholder="请输入统一社会信用代码" class="layui-input" lay-verify="required" hc-verify="usc">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">公司名称</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" name="coName" maxlength="255" placeholder="请输入公司名称" class="layui-input" lay-verify="required" hc-verify="companyRegex|companySize">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">公司简称</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" name="coNameShort" maxlength="20" placeholder="请输入公司简称" class="layui-input" lay-verify="required" hc-verify="companyRegex|abbreviation">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">公司所在地</label>
                                <div class="layui-input-block form-group r-arrdress" id="regDistrict">
                                    <input type="hidden" name="regAreaId">
                                    <div class="layui-row">
                                        <div class="layui-col-sm3">
                                            <div class="layui-input-inline">
                                                <select name="regProvince" lay-filter="regProvince">
                                                    <option value="">请选择</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="layui-col-sm3" style="margin-left: 5px;">
                                            <div class="layui-input-inline">
                                                <select name="regCity" lay-filter="regCity">
                                                    <option value="">请选择</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="layui-col-sm3" style="margin-left: -5px;">
                                            <span class="form-error"></span>
                                        </div>
                                    </div>
                                    <div class='layui-row' style="margin-top: 10px;">
                                        <div class="layui-col-sm3">
                                            <div class="layui-input-inline">
                                                <select name="regCounty" lay-filter="regCounty">
                                                    <option value="">请选择</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="layui-col-sm3" style="margin-left: 5px;">
                                            <div class="layui-input-inline">
                                                <select name="regStreet" lay-filter="regStreet">
                                                    <option value="">请选择</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">详细地址</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" name="regAddress" maxlength="255" placeholder="请输入详细地址" class="layui-input" lay-verify="required" maxlength="255">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">营业期限</label>
                                <div class="layui-input-block form-group">
                                    <div class="w-335" style="float:left;" id="deadline">
                                        <div class="layui-input-inline" style="width:162px; margin-right: 0">
                                            <input type="text" id="dateB" name="busnissTimeB" lay-verify="required" lay-verify="date" readonly placeholder="开始时间" autocomplete="off"
                                                class="layui-input" style="width:162px;">
                                        </div>
                                        <span>-</span>
                                        <div class="layui-input-inline" style="width:162px; margin-right: 0; float: none">
                                            <input type="text" id="dateE" name="busnissTimeE" lay-verify="required" lay-verify="date" readonly placeholder="结束时间" autocomplete="off"
                                                class="layui-input" style="width:162px;">
                                        </div>
                                    </div>
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">营业执照图片</label>
                                <div class="layui-input-block form-group">
                                    <input type="hidden" id="imgUrl" name="imgUrl">
                                    <div class="layui-upload w-335" style="float:left;">
                                        <div style="width:100%; padding:15px 0; border:#ddd 1px dotted; text-align:center;">
                                            <button type="button" class="layui-btn layui-btn-normal" id="upload-btn">上传营业执照</button>
                                            <div class="layui-upload-box" id="upload-imgs">预览图</div>
                                        </div>
                                    </div>
                                    <span class="form-error">格式支持JPG/PNG/GIF/BMP/JPEG，大小不超过4M</span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">业务角色</label>
                                <div class="layui-input-block form-group">
                                    <div class="layui-input-inline" style="width: 336px;">
                                        <select class="form-select w-335" style="margin:0;" name="businessWorker" lay-filter='businessRole1' lay-verify="required">
                                            <option></option>
                                        </select>
                                    </div>
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label lh">业务范围</label>
                                <div class="layui-input-block form-group">
                                    <input type="hidden" name="businessScope">
                                    <div class="w-335 fl" name="scope-box" style="line-height: 38px;"></div>
                                    <span class="form-error lh" style="line-height: 38px;"></span>
                                </div>
                            </div>
                        </dd>
                    </dl>
                    <dl style="border-bottom:#ddd 1px dotted; padding-bottom: 30px;">
                        <dt>
                            <h1>注册人联系信息</h1>
                        </dt>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label lh">注册人姓名</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" class="layui-input" name="trueName" maxlength="20" placeholder="请输入注册人姓名" lay-verify="required" hc-verify="userName|nameSize">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label lh">手机号</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" class="layui-input" name="mobile" disabled="disabled" style="background:#efefef;">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item">
                                <label class="layui-form-label lh">联系邮箱</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" class="layui-input" name="email" placeholder="请输入联系邮箱" maxlength="100" hc-verify="email">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                    </dl>
                    <dl style="margin-bottom: 20px;">
                        <dd>
                            <div class="layui-form-item">
                                <label class="layui-form-label lh">&nbsp;</label>
                                <div class="layui-input-block form-group">
                                    <button type="button" class="form-submit layui-btn layui-btn-normal" lay-submit lay-filter="submit-company" id="step2-btn" style="margin:0;">立即提交</button>
                                </div>
                            </div>
                        </dd>
                    </dl>
                </form>
            </div>
        </div>
    </div>
    <!-- step2(个人) -->
    <div class="panel-main" id='complete-person'>
        <div class="panel-register">
            <a href="javascript:;" class="cut_btn">切换企业用户</a>
            <div class="steps-list">
                <ul class="step2">
                    <li>1、填写账户信息</li>
                    <li>2、填写详细信息</li>
                    <li>3、平台审核</li>
                </ul>
            </div>
            <div class="register-body">
                <div class="reg-txt">
                    <p class="txt1">
                        <span>温馨提示：</span>
                        <br> 1、请按照你的身份证如实填写以下内容，这是审核你开通账号的重要信息，且一经审核，将不可变更。
                        <br> 2、有企业营业执照的企业用户请注册企业账户。
                    </p>
                    <p class="txt2" id="no-pass" style="display:none;">审核不通过备注：个人信息与身份证图片内容不符，请认真填写。</p>
                </div>
                <form method="post" autocomplete="off" id="form-regist3" class="layui-form">
                    <dl style="border-bottom:#ddd 1px dotted; padding-bottom: 30px;">
                        <dt>
                            <h1>个人信息</h1>
                        </dt>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label lh">身份证号码</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" class="layui-input" name="usc" maxlength="18" placeholder="请输入身份证号码" lay-verify="required" hc-verify="idNumber">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label lh">姓名</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" class="layui-input" name="zhName" maxlength="20" placeholder="请输入真实姓名" lay-verify="required" hc-verify="userName|nameSize">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label">户口所在地</label>
                                <div class="layui-input-block form-group r-arrdress" id="linkDistrict">
                                    <input type="hidden" name="linAreaId">
                                    <div class="layui-row">
                                        <div class="layui-col-sm3">
                                            <div class="layui-input-inline">
                                                <select name="linkProvince" lay-filter="linkProvince">
                                                    <option value="">请选择</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="layui-col-sm3" style="margin-left: 5px;">
                                            <div class="layui-input-inline">
                                                <select name="linkCity" lay-filter="linkCity">
                                                    <option value="">请选择</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="layui-col-sm3" style="margin-left: -5px;">
                                            <span class="form-error"></span>
                                        </div>
                                    </div>
                                    <div class='layui-row' style="margin-top: 10px;">
                                        <div class="layui-col-sm3">
                                            <div class="layui-input-inline">
                                                <select name="linkCounty" lay-filter="linkCounty">
                                                    <option value="">请选择</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="layui-col-sm3" style="margin-left: 5px;">
                                            <div class="layui-input-inline">
                                                <select name="linkStreet" lay-filter="linkStreet">
                                                    <option value="">请选择</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label lh">详细地址</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" class="layui-input" name="regAddress" placeholder="请输入详细地址" maxlength="255" lay-verify="required">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require lh">
                                <label class="layui-form-label lh">身份证正反面图片</label>
                                <div class="form-group">
                                    <input type="hidden" id="imgUrl1" name="imgUrl1">
                                    <input type="hidden" id="imgUrl2" name="imgUrl2">
                                    <div class="layui-upload w-335" style="float:left;">
                                        <div style="width:100%; padding:15px 0; border:#ddd 1px dotted; text-align:center;">
                                            <table width="100%" border="0">
                                                <tr>
                                                    <td width="50%" style="padding:0 15px;" valign="top">
                                                        <button type="button" class="layui-btn layui-btn-normal" id="upload-btn1">上传正面</button>
                                                        <div class="layui-upload-box" id="upload-imgs1" style="width:100%;">正面预览图</div>
                                                    </td>
                                                    <td width="50%" style="padding:0 15px;" valign="top">
                                                        <button type="button" class="layui-btn layui-btn-normal" id="upload-btn2">上传反面</button>
                                                        <div class="layui-upload-box" id="upload-imgs2" style="width:100%;">反面预览图</div>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <span class="form-error">格式支持JPG/PNG/GIF/BMP/JPEG，大小不超过4M</span>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label lh">业务角色</label>
                                <div class="layui-input-inline" style="width: 336px;">
                                    <select class="form-select w-335" style="margin:0;" name="businessWorker" id="businessRole" lay-filter="businessRole2" lay-verify="required">
                                        <option value="">请选择业务角色</option>
                                    </select>
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label lh">业务经营范围</label>
                                <div class="layui-input-block form-group">
                                    <input type="hidden" name="businessScope">
                                    <div class="w-335 fl" name="scope-box" style="line-height: 38px;"></div>
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                    </dl>
                    <dl style="border-bottom:#ddd 1px dotted; padding-bottom: 30px;">
                        <dt>
                            <h1>注册人联系信息</h1>
                        </dt>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label lh">注册人姓名</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" class="layui-input" name="trueName" maxlength="20" placeholder="请输入注册人姓名" lay-verify="required" hc-verify="userName|nameSize">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item layui-form-item--require">
                                <label class="layui-form-label lh">手机号</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" class="layui-input" name="mobile" disabled="disabled" style="background:#efefef;">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                        <dd>
                            <div class="layui-form-item lh">
                                <label class="layui-form-label lh">联系邮箱</label>
                                <div class="layui-input-block form-group">
                                    <input type="text" class="layui-input" name="email" placeholder="请输入联系邮箱" maxlength="100" hc-verify="email">
                                    <span class="form-error"></span>
                                </div>
                            </div>
                        </dd>
                    </dl>
                    <dl style="margin-bottom: 20px;">
                        <dd>
                            <div class="layui-form-item lh">
                                <label class="layui-form-label lh">&nbsp;</label>
                                <div class="layui-input-block form-group">
                                    <button type="button" class="form-submit layui-btn layui-btn-normal" lay-submit lay-filter="submit-person" id="step3-btn" style="margin:0;">立即提交</button>
                                </div>
                            </div>
                        </dd>
                    </dl>
                </form>
            </div>
        </div>
    </div>
    <!-- step3 -->
    <div class="panel-main" id='register-successful'>
        <div class="panel-register">
            <div class="steps-list">
                <ul class="step3">
                    <li>1、填写账户信息</li>
                    <li>2、填写详细信息</li>
                    <li>3、平台审核</li>
                </ul>
            </div>
            <div class="register-body">
                <div class="reg-success">
                    <p class="txt1">
                        <img src="../frame/static/images/success.gif">
                    </p>
                    <p class="txt2">恭喜您，提交资料成功。
                        <span style="color:#666;">系统将在
                            <i style="font-style:normal;" id="sec">10</i> 秒后自动为您跳转登录页面...</span>
                    </p>
                    <p class="txt3">工作人员会在2个工作日内联系您进行认证，请保持手机号码畅通。
                        <br>如有疑问，请联系平台，谢谢合作！</p>
                </div>
            </div>
        </div>
    </div>
    <!-- End:内容 -->

    <!-- Start:底部 -->
    <div class="panel-foot">
        <div class="panel-bottom">
            <p class="txt1">
                <a href="http://www.hcwanli.com/gongsijianjie/" target="_blank">关于我们</a>|
                <a href="http://www.hcwanli.com/xinpinshangxian/" target="_blank">新闻动态</a>|
                <a href="http://www.hcwanli.com/lianxiwomen/" target="_blank">联系我们</a>|
                <a href="http://www.hcwanli.com/bangzhuzhongxin/" target="_blank">帮助中心</a>
            </p>
            <p class="txt2">&copy; 2017 - 2020 广东航程科技有限公司. All Rights Reserved
                <a href="http://www.miitbeian.gov.cn" target="_blank">粤ICP备17154150号-11</a>
            </p>
        </div>
    </div>
    <!-- End:底部 -->
</body>
<script charset="utf-8" src="/view/frame/layui/layui.js"></script>
<script charset="utf-8" src="/view/frame/static/js/jquery.min.js?v=1.0"></script>
<script charset="utf-8" src="/view/frame/static/js/jquery.cookie.min.js?v=1.0"></script>
<script type="text/javascript" src="../frame/static/js/lang_zh_CN.js?v=1.0"></script>
<script charset="utf-8" src="/view/frame/static/js/layui.district_1.js?v=1.0"></script>

<script charset="utf-8" src="/view/frame/static/js/errorCodeMap.js"></script>
<script charset="utf-8" src="/view/frame/static/js/HC.js?v=1.4"></script>
<script charset="utf-8" src="/view/tms/static/js/validator.js"></script>
<script charset="utf-8" src="/view/tms/static/js/bizUtil.js"></script>

<script charset="utf-8" src="/view/regist/regist.js"></script>

<script>
    $(function () {

        //看密码
        function lookPWD(id, target) {
            $(id).click(function (ev) {
                if ($(target).attr("type") === "text") {
                    $(target).attr("type", "password");
                } else {
                    $(target).attr("type", "text");
                }
            });
        }

        lookPWD(".look-pwd", "#password");
        lookPWD(".look-pwd1", "#password1");

        //查看详细服务协议
        $(".agreement").on("click", function () {
            layui.use('layer', function () {
                var layer = layui.layer;
                layer.open({
                    area: ["900px", "700px"],
                    title: false,
                    shadeClose: true,
                    type: 2,
                    content: "./agreement/agreement.html"
                });
            });
        });

        //企业用户的日期， 图片上传
        layui.use(['upload', 'layer', 'laydate', 'form'], function () {
            var $ = layui.jquery,
                upload = layui.upload,
                layer = layui.layer,
                form = layui.form,
                laydate = layui.laydate;

            //日期
            laydate.render({
                elem: '#dateB',
                lang: 'cn',
                max: 0
            });
            laydate.render({
                elem: '#dateE',
                lang: 'cn',
                min: 0
            });

            var _verificationImg = function ($obj, $objVal, $txt) {
                if ($objVal.length == 0) {
                    checkResult($obj, $txt.errorMsg1, 2);
                    return false;
                } else {
                    checkResult($obj, '', 3);
                    return true;
                }
            }

            //个体上传图片
            uploadImg('#upload-btn1', $('#upload-imgs1'), $('#imgUrl1'), '正面');
            uploadImg('#upload-btn2', $('#upload-imgs2'), $('#imgUrl2'), '反面');

            //企业上传图片
            uploadImg('#upload-btn', $('#upload-imgs'), $('#imgUrl'), '');

            //图片上传
            function uploadImg($o, $m, $n, $t) {
                upload.render({
                    elem: $o,
                    url: '/ucenter/upload.shtml',
                    multiple: false,
                    exts: 'jpg|png|gif|BMP|JPEG',
                    size: 4096,
                    before: function (obj) {
                        layer.load();
                        obj.preview(function (index, file, result) {
                            $m.html('<a href="' + result + '" target="_blank"><img src="' + result + '" alt="' + file.name + '" class="layui-upload-img"></a>');
                        });
                        $($o).html('重新上传' + $t);
                    },
                    //上传完毕
                    done: function (res) {
                        layer.closeAll('loading');
                        if (res.code == 'SUCCESS') {
                            $n.val(res.objects);
                            _verificationImg($n, res.objects + "", $jsLang.imgUrl1);
                            layer.msg($t + '上传成功');
                        } else {
                            $n.val("");
                            _verificationImg($n, "", $jsLang.imgUrl);
                            layer.msg($t + '上传失败，请重新上传');
                        }


                    },
                    //上传失败
                    error: function (index, upload) {
                        layer.closeAll('loading');
                        $n.val("");
                        _verificationImg($n, "", $jsLang.imgUrl1);
                        layer.msg($t + '上传失败，请重新上传');
                    }
                });
            }

            //焦点
            function checkResult(obj, txt, type, isFocus) {
                switch (type) {
                    case 1:
                        obj.removeClass('error').addClass('active');
                        obj.parent().find('.form-error').removeClass('check').text(txt);
                        break;
                    case 2:
                        isFocus ? obj.focus() : '';
                        obj.removeClass('active').addClass('error');
                        obj.parent().find('.form-error').addClass('check').text(txt);
                        break;
                    case 3:
                        obj.removeClass('active');
                        obj.removeClass('error');
                        obj.parent().find('.form-error').removeClass('check').text('');
                        break;
                }
            }

            //切换企业用户和个人用户
            $('#complete-company .cut_btn').click(function () {
                $('#complete-company').hide();
                $('#complete-person').show();
                $('.layui-layer-tips').hide();
            });

            $('#complete-person .cut_btn').click(function () {
                $('#complete-person').hide();
                $('#complete-company').show();
                $('.layui-layer-tips').hide();
            });
        });

    });
</script>

</html>